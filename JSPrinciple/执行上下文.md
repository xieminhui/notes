
## 执行上下文
又称为执行环境
分为全局执行上下文，函数执行上下文，eval执行上下文

进入执行上下文时，会做三件事情
1. 初始化活动对象VO
2. 创建作用域链
3. 确定this

进入执行上下文之前，即函数执行前，会初始化执行上下文，
初始化变量对象VO

变量对象包括
1. 函数的所有形参
  + 有名称和对应值组成的对象
  + 没有实参，就是undefined
2. 函数声明
  + 由名称和对应值组成的对象
  + 如果变量对象里面有相同名称的属性，则会被替换
3. 变量的声明
  + 由名称和对应值组成的对象
  + 如果变量名称跟已经声明的形式参数或函数相同，则变量声明不会干扰已经存在的这类属性

根据变量对象的初始化，我们知道，形参优先级最高，接着是函数（这里就是我们说的函数提升）

```
function a (sum, str) {
  let n = 1;
  let fn = function (){};
}
a(1)
```

这时候，我们的变量对象如下：
```
AO = {
  arguments: {
    0: 1,
    1: undefined,
    length: 2
  },
  n: undefined;
  fn: undefined
}
```
调用`a(1)`进入执行上下文，这个变量对象会变成活动对象，并且可访问
```
VO = {
  arguments: {
    0: 1,
    1: undefined,
    length: 2
  },
  n: 1,
  fn: function fn(){}
}

```

## 执行上下文栈
用于管理执行上下文的调用栈，在函数执行时候，首先是全局上下文入栈，挤着是该函数的执行上下文入栈，函数执行完毕，该函数的执行上下文出栈，但是栈底依然保留着全局的执行上下文


